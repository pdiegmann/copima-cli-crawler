metadata:
  name: "Dry Run Test"
  description: "Configuration validation test without actual GitLab execution"
  version: "1.0.0"
  author: "Test Suite"
  tags: ["dry-run", "validation"]
  timeout: 30000 # 30 seconds

gitlab:
  host: "https://example.com"
  accessToken: "dummy-token"
  refreshToken: "dummy-refresh-token"
  timeout: 30000
  maxConcurrency: 1

execution:
  workingDir: "/tmp/crawler-dry-run"
  outputDir: "/tmp/crawler-dry-run/output"
  databasePath: "/tmp/crawler-dry-run/test.db"
  steps: ["areas"]
  testResume: false
  testCallbacks: false

validation:
  expectedFiles:
    - path: "areas/groups.jsonl"
      format: "jsonl"
      minRecords: 0 # Allow empty results for dry run
      requiredFields: ["id", "name"]

  logs:
    expectedLevels: ["info", "error"]
    requiredMessages: []
    forbiddenMessages: []
    maxErrors: 10 # Allow errors in dry run
    maxWarnings: 10

  performance:
    maxExecutionTime: 30000 # 30 seconds

  dataQuality:
    validateJsonStructure: false # Skip validation for dry run
    checkDuplicates: false
    validateRequiredFields: false

cleanup:
  cleanOutputDir: true
  cleanDatabase: true
  cleanLogs: true
  keepOnFailure: true # Keep files for inspection
