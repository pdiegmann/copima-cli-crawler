metadata:
  name: "Debug GitLab Crawler Test"
  description: "Debug test with cleanup disabled to verify file creation"
  version: "1.0.0"
  author: "Test Suite"
  tags: ["debug", "no-cleanup"]
  timeout: 300000 # 5 minutes

gitlab:
  host: "https://git.hnnl.eu"
  accessToken: "6ddd12445d257e18b7358f37c29a1a8a7efb17accd4b5fa726efa7b038748587"
  refreshToken: "145d5213c5bdcee8c4dda7c3e9587efdf2b861334506ac7dc9d111b1a5d36438"
  timeout: 30000
  maxConcurrency: 1

execution:
  workingDir: "./tmp/crawler-test-debug"
  outputDir: "./tmp/crawler-test-debug/output"
  databasePath: "./database.sqlite"
  steps: ["areas", "users"]
  testResume: false
  testCallbacks: false

validation:
  expectedFiles:
    - path: "areas/groups.jsonl"
      format: "jsonl"
      minRecords: 1
      requiredFields: ["id", "name", "fullPath"]
    - path: "areas/projects.jsonl"
      format: "jsonl"
      minRecords: 1
      requiredFields: ["id", "name", "fullPath"]
    - path: "users/users.jsonl"
      format: "jsonl"
      minRecords: 1
      requiredFields: ["id", "username", "name"]

  logs:
    expectedLevels: ["info"]
    requiredMessages:
      - "Starting Step 1.*Crawling areas"
      - "Starting Step 2.*Crawling users"
      - "GitLab crawl completed successfully"
    forbiddenMessages:
      - "FATAL"
      - "CRITICAL"
    maxErrors: 0
    maxWarnings: 5

  performance:
    maxExecutionTime: 120000 # 2 minutes

  dataQuality:
    validateJsonStructure: true
    checkDuplicates: false
    validateRequiredFields: true

cleanup:
  cleanOutputDir: false # Disable cleanup to see what files are actually created
  cleanDatabase: false
  cleanLogs: false
  keepOnFailure: false
